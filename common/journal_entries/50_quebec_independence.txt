je_quebec_happiness = {
    icon = "gfx/interface/icons/event_icons/quebec.dds"
    group = je_group_dilemmas

    is_shown_when_inactive = {
		NOT = { has_variable = quebec_independent }
        c:CAN ?= this
		country_or_subject_owns_entire_state_region = s:STATE_QUEBEC
		game_date <= 1996.1.1
    }

    possible = {
		NOT = { has_variable = quebec_independent }
        c:CAN ?= this
        country_or_subject_owns_entire_state_region = s:STATE_QUEBEC
		game_date <= 1996.1.1
    }

	complete = { game_date >= 1996.1.2 }
	
    on_monthly_pulse = {
	random_events = {
		chance_to_happen = 25
		10 = quebec.3
		10 = quebec.4
		10 = quebec.5
		25 = quebec.6
	}
	
	c:CAN = {
		set_variable = { name = quebec_happiness_var value = 0 }
        if = { limit = { country_or_subject_owns_entire_state_region = s:STATE_QUEBEC }
		set_variable = quebec_independent
		}
		}
    }

    should_be_pinned_by_default = yes
    scripted_progress_bar = quebec_happiness_bar
    scripted_button = quebec_concessions_button
    scripted_button = quebec_ignore_button
}