# group = this is the law_group a law belongs to
# icon = graphical icon shown in-game
# modifier = {} modifier on country for having adopted this law
# cultural_acceptance_rule and religious_acceptance_rule are triggers called in culture scope with scope:country as the country with the laws


law_banned_firearms = {
	group = lawgroup_firearms
	icon = "gfx/interface/icons/law_icons/gunban.dds"
	progressiveness = 25
	
	on_activate = {
		if = {
			limit = { NOT = { is_banning_goods = g:civilian_arms } }
			add_banned_goods = g:civilian_arms
		}

		every_country = {
			limit = { is_subject_of = ROOT }
			custom_tooltip = {
				text = rtba_enact_law_banned_on_subject
				activate_law = law_type:law_banned_firearms
			}		
		}
	}

	ai_will_do = {
		is_subject = no
	}

	on_enact = {
		if = {
			limit = {
				is_subject = yes
			}
			custom_tooltip = rtba_subject_cant_enact
		}
	}

	disallowing_laws = {
		law_no_police
	}

	possible_political_movements = {
		law_licensed_firearms
	}
	
	modifier = {
		interest_group_ig_petty_bourgeoisie_pol_str_mult = 0.05
		interest_group_ig_armed_forces_pol_str_mult = 0.05
		country_revolution_progress_mult = -0.10
		country_secession_progress_mult = -0.10
	}
	pop_support = {
	 	value = 0
		add = {
			desc = "POP_BUREAUCRATS"
	 		if = {
	 			limit = {
	 				is_pop_type = bureaucrats
				}
	 			value = 0.5
	 		}
	 	}
	 	add = {
	 		desc = "POP_OFFICERS"
	 		if = {
	 			limit = {
	 				is_pop_type = officers
	 			}
				value = 0.25
			}
		}
		add = {
	 		desc = "POP_ACADEMICS"
	 		if = {
	 			limit = {
	 				is_pop_type = officers
	 			}
				value = 0.05
			}
		}
	}
	ai_enact_weight_modifier = {
		value = 0
		if = {
			limit = {
				has_journal_entry = je_government_petition
				has_variable = desired_law_var
				scope:law = var:desired_law_var
			}
			add = 750
		}
	}
}

law_licensed_firearms = {
	group = lawgroup_firearms
	icon = "gfx/interface/icons/law_icons/gun_license.dds"
	progressiveness = 25
	on_activate = {
		if = {
			limit = { is_banning_goods = g:civilian_arms }
			remove_banned_goods = g:civilian_arms
		}

		every_country = {
			limit = { is_subject_of = ROOT }
			custom_tooltip = {
				text = rtba_enact_law_licensed_on_subject
				activate_law = law_type:law_licensed_firearms
			}
		}
	}
	
	ai_will_do = {
		is_subject = no
	}

	on_enact = {
		if = {
			limit = {
				is_subject = yes
			}
			custom_tooltip = rtba_subject_cant_enact
		}
	}

	possible_political_movements = {
		law_unrestricted_firearms
		law_banned_firearms
	}
	
	modifier = {
		interest_group_ig_intelligentsia_pol_str_mult = 0.05
	}
	pop_support = {
	 	value = 0
	 	add = {
	 		desc = "POP_ACADEMICS"
	 		if = {
	 			limit = {
	 				is_pop_type = academics
	 			}
	 			value = 0.5
	 		}
	 	}
	}
	ai_enact_weight_modifier = {
		#Petitions
		value = 0
		if = {
			limit = {
				has_journal_entry = je_government_petition
				has_variable = desired_law_var
				scope:law = var:desired_law_var
			}
			add = 750
		}
	}
}

law_unrestricted_firearms = {
	group = lawgroup_firearms
	icon = "gfx/interface/icons/law_icons/guns_allowed.dds"
	progressiveness = 0

	on_activate = {
	}

	on_enact = {
	}

	ai_will_do = {
		is_subject = no
	}
	
	modifier = {
		interest_group_ig_rural_folk_pol_str_mult = 0.10
		country_revolution_progress_mult = 0.10
		country_secession_progress_mult = 0.10
		state_mortality_turmoil_mult = 0.003
		state_conscription_rate_add = 0.01
	}
	
	possible_political_movements = {
		law_licensed_firearms
	}

	pop_support = {
	 	value = 0
	 	add = {
	 		desc = "POP_FARMERS"
			if = {
				limit = {
					is_pop_type = farmers
				}
	 			value = 0.10
	 		}
	 	}
	 	add = {
	 		desc = "POP_CAPITALISTS"
	 		if = {
	 			limit = {
	 				is_pop_type = capitalists
				}
	 			value = 0.25
			}
	 	}
	}
	ai_enact_weight_modifier = {
		#Petitions
		value = 0
		if = {
			limit = {
				has_journal_entry = je_government_petition
				has_variable = desired_law_var
				scope:law = var:desired_law_var
			}
			add = 750
		}
	}
}